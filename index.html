<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ó–≤–µ–∑–¥–Ω—ã—Ö –ü–µ–π–∑–∞–∂–µ–π</title>
  
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg-color: #1a1b1e;
      --sidebar-bg: #25262b;
      --text-color: #e9ecef;
      --accent-color: #4dabf7;
      --border-color: #373a40;
      --input-bg: #2c2e33;
    }

    body {
      padding: 0;
      margin: 0;
      font-family: 'Montserrat', sans-serif;
      background-color: var(--bg-color);
      color: var(--text-color);
      height: 100vh;
      display: flex;
      overflow: hidden;
    }

    /* –°–∞–π–¥–±–∞—Ä */
    aside {
      width: 360px;
      background-color: var(--sidebar-bg);
      border-right: 1px solid var(--border-color);
      display: flex;
      flex-direction: column;
      padding: 20px;
      overflow-y: auto;
      box-shadow: 2px 0 10px rgba(0,0,0,0.3);
      flex-shrink: 0;
      z-index: 10;
    }

    aside h2 {
      margin-top: 0;
      font-size: 1.2rem;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: var(--accent-color);
      text-align: center;
      margin-bottom: 20px;
    }

    .control-group {
      background: rgba(255,255,255,0.03);
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 15px;
      border: 1px solid var(--border-color);
    }

    .control-group h4 {
      margin: 0 0 15px 0;
      font-size: 0.9rem;
      color: #adb5bd;
      border-bottom: 1px solid var(--border-color);
      padding-bottom: 5px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    /* –°–µ—Ç–∫–∞ —Ü–≤–µ—Ç–æ–≤ —Å —á–µ–∫–±–æ–∫—Å–∞–º–∏ */
    .color-list {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    
    .color-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 0.8rem;
    }

    .color-row label {
      display: flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
      user-select: none;
    }

    input[type="checkbox"] {
      accent-color: var(--accent-color);
      cursor: pointer;
    }

    input[type="color"] {
      -webkit-appearance: none;
      border: none;
      width: 30px;
      height: 30px;
      cursor: pointer;
      background: none;
      padding: 0;
    }
    input[type="color"]::-webkit-color-swatch-wrapper { padding: 0; }
    input[type="color"]::-webkit-color-swatch {
      border: 1px solid var(--border-color);
      border-radius: 4px;
    }

    /* –ò–Ω–ø—É—Ç—ã */
    input[type="number"], input[type="text"], select {
      background: var(--input-bg);
      border: 1px solid var(--border-color);
      color: white;
      padding: 8px;
      border-radius: 4px;
      width: 100%;
      box-sizing: border-box;
      font-family: inherit;
    }

    .input-row { margin-bottom: 10px; }
    .input-row label {
      display: block;
      font-size: 0.8rem;
      margin-bottom: 4px;
      color: #909296;
    }

    .ratio-buttons { display: flex; gap: 5px; margin-bottom: 10px; }
    .ratio-buttons button { flex: 1; padding: 8px 4px; font-size: 0.7rem; }

    .secondary-btn {
      background-color: transparent;
      border: 1px solid var(--border-color);
      color: #adb5bd;
      font-size: 0.7rem;
      padding: 4px 8px;
      cursor: pointer;
      border-radius: 4px;
    }
.secondary-btn:hover {
      background-color: transparent; /* –í–∞–∂–Ω–æ: –æ—Ç–º–µ–Ω—è–µ–º –∑–∞–ª–∏–≤–∫—É —Ñ–æ–Ω–∞ */
      border-color: var(--accent-color);
      color: var(--accent-color);
      box-shadow: 0 0 8px rgba(77, 171, 247, 0.4); /* –î–æ–±–∞–≤–∏–º —Å–≤–µ—á–µ–Ω–∏–µ –¥–ª—è –∫—Ä–∞—Å–æ—Ç—ã */
    }

    .btn-group { display: flex; flex-direction: column; gap: 10px; margin-top: 10px; }

    button {
      background-color: var(--input-bg);
      color: white;
      border: 1px solid var(--border-color);
      padding: 12px;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.2s;
      text-transform: uppercase;
      font-size: 0.8rem;
    }
    button:hover {
      background-color: var(--accent-color);
      border-color: var(--accent-color);
      color: #fff;
    }
    button.primary {
      background-color: var(--accent-color);
      border-color: var(--accent-color);
    }
    button.primary:hover { background-color: #339af0; }

    .radio-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
    .radio-grid div { display: flex; align-items: center; gap: 5px; }
    .radio-grid label { cursor: pointer; font-size: 0.8rem; }

    main {
      flex-grow: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      background-image: radial-gradient(#2c2e33 1px, transparent 1px);
      background-size: 20px 20px;
      overflow: auto;
      padding: 20px;
      position: relative;
    }

    #container {
      box-shadow: 0 0 20px rgba(0,0,0,0.5);
      border: 2px solid #fff;
      position: relative;
    }

    #loadingStatus {
      position: absolute;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0, 0, 0, 0.85);
      color: white;
      padding: 10px 25px;
      border-radius: 20px;
      font-size: 0.9rem;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.3s;
      border: 1px solid var(--accent-color);
      z-index: 100;
      box-shadow: 0 4px 10px rgba(0,0,0,0.5);
    }
    #loadingStatus.active { opacity: 1; }
	/* --- –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è –°–∫—Ä–æ–ª–ª–±–∞—Ä–∞ --- */
    
    /* –®–∏—Ä–∏–Ω–∞ —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞ */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }

    /* –§–æ–Ω —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞ (—Ç—Ä–µ–∫) */
    ::-webkit-scrollbar-track {
      background: var(--sidebar-bg); 
    }

    /* –ü–æ–ª–∑—É–Ω–æ–∫ (—Å–∞–º —Å–∫—Ä–æ–ª–ª) */
    ::-webkit-scrollbar-thumb {
      background-color: var(--border-color);
      border-radius: 4px;
      border: 2px solid var(--sidebar-bg); /* –û—Ç—Å—Ç—É–ø –æ—Ç –∫—Ä–∞—è */
    }

    /* –ü–æ–ª–∑—É–Ω–æ–∫ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
    ::-webkit-scrollbar-thumb:hover {
      background-color: #5c5f66;
    }

    /* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Firefox */
    * {
      scrollbar-width: thin;
      scrollbar-color: var(--border-color) var(--sidebar-bg);
    }
	/* --- –ë–ª–æ–∫ –∞–≤—Ç–æ—Ä–æ–≤ (–ö—Ä–µ–¥–∏—Ç—ã) --- */
    .credits {
      margin-top: 20px; /* –û—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É */
      padding-top: 15px;
      border-top: 1px solid var(--border-color); /* –¢–æ–Ω–∫–∞—è –ª–∏–Ω–∏—è —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å */
      font-size: 0.7rem; /* –ú–µ–ª–∫–∏–π —à—Ä–∏—Ñ—Ç */
      color: #5c5f66; /* –ù–µ–Ω–∞–≤—è–∑—á–∏–≤—ã–π —Å–µ—Ä—ã–π —Ü–≤–µ—Ç */
      text-align: center;
      line-height: 1.6;
    }

    .credits a {
      color: #909296;
      text-decoration: none;
      font-weight: 600;
      transition: color 0.2s;
    }

    .credits a:hover {
      color: var(--accent-color); /* –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
    }
  </style>

  <script src="p5.min.js"></script>
  <script src="StarParticle.js"></script>
  <script src="PaintParticle.js"></script>
  <script src="FieldDrawer.js"></script>
  <script src="fields.js"></script>
  <script src="index.js"></script>
  <script src="sketch.js"></script>
</head>

<body>

  <aside>
    <h2>–ó–≤–µ–∑–¥–Ω—ã–µ –ø–µ–π–∑–∞–∂–∏</h2>

    <!-- –¢–µ–º—ã –∏ –¶–≤–µ—Ç–∞ -->
    <div class="control-group">
      <h4>
        –°–ª–æ–∏ –∏ –¶–≤–µ—Ç–∞
        <button class="secondary-btn" onclick="randomizeColors()" title="–°–ª—É—á–∞–π–Ω—ã–µ —Ü–≤–µ—Ç–∞">üé≤ –°–ª—É—á–∞–π–Ω—ã–π</button>
      </h4>
      
<div class="input-row">
          <label>–ü—Ä–µ—Å–µ—Ç—ã</label>
          <select id="presetSelect" onchange="applyPreset(this.value)">
            <option value="" disabled selected>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É...</option>
            
            <optgroup label="–ü—Ä–∏—Ä–æ–¥–∞">
              <option value="default">–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π (–ê–ª—å–ø—ã)</option>
              <option value="sunset">–ü—É—Ä–ø—É—Ä–Ω—ã–π –ó–∞–∫–∞—Ç</option>
              <option value="midnight">–ü–æ–ª–Ω–æ—á—å –≤ –ª–µ—Å—É</option>
              <option value="arctic">–°–µ–≤–µ—Ä–Ω—ã–π –ü–æ–ª—é—Å</option>
              <option value="desert">–ü—É—Å—Ç—ã–Ω—è –°–∞—Ö–∞—Ä–∞</option>
              <option value="swamp">–¢—É–º–∞–Ω–Ω–æ–µ –ë–æ–ª–æ—Ç–æ</option>
            </optgroup>

            <optgroup label="–ö–æ—Å–º–æ—Å –∏ –§–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞">
              <option value="cyberpunk">–ö–∏–±–µ—Ä–ø–∞–Ω–∫ –ù–µ–æ–Ω</option>
              <option value="mars">–ö—Ä–∞—Å–Ω–∞—è –ü–ª–∞–Ω–µ—Ç–∞</option>
              <option value="alien">–ß—É–∂–æ–π –ú–∏—Ä (–§–∏–æ–ª–µ—Ç–æ–≤—ã–π)</option>
              <option value="toxic">–¢–æ–∫—Å–∏—á–Ω–∞—è –ü—É—Å—Ç–æ—à—å</option>
              <option value="void">–ì–ª—É–±–æ–∫–∏–π –ö–æ—Å–º–æ—Å</option>
            </optgroup>

            <optgroup label="–°—Ç–∏–ª–∏–∑–∞—Ü–∏—è">
              <option value="bw">–ß/–ë –ù—É–∞—Ä</option>
              <option value="sepia">–°—Ç–∞—Ä–æ–µ –§–æ—Ç–æ (–°–µ–ø–∏—è)</option>
              <option value="blueprint">–ß–µ—Ä—Ç–µ–∂ (–°–∏–Ω–∏–π)</option>
              <option value="vaporwave">Vaporwave (–†–µ—Ç—Ä–æ)</option>
              <option value="pastel">–°–∞—Ö–∞—Ä–Ω–∞—è –í–∞—Ç–∞</option>
              <option value="gold">–ó–æ–ª–æ—Ç–∞—è –õ–∏—Ö–æ—Ä–∞–¥–∫–∞</option>
              <option value="blood">–ö—Ä–æ–≤–∞–≤–∞—è –õ—É–Ω–∞</option>
              <option value="matrix">–ú–∞—Ç—Ä–∏—Ü–∞</option>
            </optgroup>
          </select>
        </div>

      <div class="color-list">
        <!-- –ù–µ–±–æ -->
        <div class="color-row">
          <label><input type="checkbox" checked id="doSky"> –ù–µ–±–æ</label>
          <div>
            <input type="color" id="skyColor1" title="–û—Å–Ω–æ–≤–Ω–æ–π"/>
            <input type="color" id="skyColor2" title="–ì—Ä–∞–¥–∏–µ–Ω—Ç"/>
          </div>
        </div>
        
        <!-- –ê–∫—Ü–µ–Ω—Ç—ã –Ω–µ–±–∞ -->
        <div class="color-row">
          <label style="opacity: 0.7; margin-left: 24px;">–ê–∫—Ü–µ–Ω—Ç—ã</label>
          <div>
            <input type="color" id="skyAccentColor1"/>
            <input type="color" id="skyAccentColor2"/>
          </div>
        </div>

        <!-- –ó–≤–µ–∑–¥—ã -->
        <div class="color-row">
          <label><input type="checkbox" checked id="doStars"> –ó–≤–µ–∑–¥—ã</label>
          <div>
            <input type="color" id="starColor1"/>
            <input type="color" id="starColor2"/>
          </div>
        </div>

        <!-- –ì–æ—Ä—ã -->
        <div class="color-row">
          <label><input type="checkbox" checked id="doMountains"> –ì–æ—Ä—ã</label>
          <div>
            <input type="color" id="mountainColor1"/>
            <input type="color" id="mountainColor2"/>
          </div>
        </div>

        <!-- –û–±–ª–∞–∫–∞ -->
        <div class="color-row">
          <label><input type="checkbox" checked id="doClouds"> –û–±–ª–∞–∫–∞</label>
          <input type="color" id="cloudColor1"/>
        </div>
      </div>
    </div>

    <!-- –†–µ–∂–∏–º -->
    <div class="control-group">
      <h4>–°—Ç–∏–ª—å –æ—Ç—Ä–∏—Å–æ–≤–∫–∏</h4>
      <div class="radio-grid">
        <div><input type="radio" name="mode" value="circles" checked id="modeCircles"><label for="modeCircles">–ö—Ä—É–≥–∏</label></div>
        <div><input type="radio" name="mode" value="lines" id="modeLines"><label for="modeLines">–õ–∏–Ω–∏–∏</label></div>
        <div><input type="radio" name="mode" value="squares" id="modeSquares"><label for="modeSquares">–ö—É–±—ã</label></div>
        <div><input type="radio" name="mode" value="crosses" id="modeCrosses"><label for="modeCrosses">–¢–∫–∞–Ω—å</label></div>
      </div>
    </div>

    <!-- –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ -->
    <div class="control-group">
      <h4>–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ</h4>
      <div class="ratio-buttons">
        <button class="secondary-btn" onclick="setRatio(540, 960)">üì± 9:16</button>
        <button class="secondary-btn" onclick="setRatio(960, 540)">üñ•Ô∏è 16:9</button>
        <button class="secondary-btn" onclick="setRatio(800, 800)">üü• 1:1</button>
      </div>
      <div style="display: flex; gap: 10px;">
        <input type="number" value="600" min="100" id="resolutionX">
        <input type="number" value="900" min="100" id="resolutionY">
      </div>
    </div>

    <!-- –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è -->
    <div class="control-group">
      <h4>–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è (1-20)</h4>
      <div class="input-row">
        <label>–ì–æ—Ä—ã (–Ω–∏–∂–µ = –¥–æ–ª—å—à–µ)</label>
        <input type="number" value="5" min="1" id="mountainDetail">
      </div>
      <div class="input-row">
        <label>–ß–∞—Å—Ç–∏—Ü—ã (–Ω–∏–∂–µ = –¥–æ–ª—å—à–µ)</label>
        <input type="number" value="15" min="1" id="particleDetail">
      </div>
    </div>

    <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ -->
    <div class="control-group">
      <h4>–ì–µ–Ω–µ—Ä–∞—Ü–∏—è</h4>
      <div class="input-row">
        <label>–°–∏–¥</label>
        <input type="number" value="0" id="seedText">
      </div>
      
      <div class="btn-group">
        <button class="primary" onclick="generate()">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</button>
        <button onclick="generateRandom()">–°–ª—É—á–∞–π–Ω—ã–π –°–∏–¥</button>
        <button onclick="saveArt()" style="border-color: #51cf66; color: #51cf66;">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å PNG</button>
      </div>
    </div>

<div class="credits">
      –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç: <a href="https://github.com/Deep-Fold" target="_blank">Deep-Fold</a><br>
      –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞: <a href="https://github.com/oleg4016/Starscapes" target="_blank"><span>Gelo4016</span></a>
    </div>

  </aside>

  <main>
    <div id="loadingStatus">–û–∂–∏–¥–∞–Ω–∏–µ...</div>
    <div id='container'></div>
  </main>

</body>
</html>